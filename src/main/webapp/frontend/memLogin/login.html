<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POP.Game</title>


    <link rel="stylesheet" href="https://unpkg.com/swiper@8/swiper-bundle.min.css" />
    <!-- font awesome cdn link -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- custom css file link -->
    <link rel="stylesheet" href="/CGA101G1/frontend/mainCss/css/allStyle.css">
    <link rel="stylesheet" href="/CGA101G1/frontend/mainCss/css/style.css">
    <link rel="stylesheet" href="/CGA101G1/frontend/mainCss/css/headerStyle.css">
    <link rel="stylesheet" href="/CGA101G1/frontend/mainCss/css/footerStyle.css">


    <!-- Favicon -->
    <link rel="shortcut icon" href="/CGA101G1/frontend/mainCss/images/logo.png">
    <!-- Fonts CSS -->
    <link rel="stylesheet" href="/CGA101G1/frontend/mainCss/assets/vendor/fonts/fonts.css">
    <!-- Bootstrap-icons CSS -->
    <link rel="stylesheet" href="/CGA101G1/frontend/mainCss/assets/vendor/bootstrap/icons/bootstrap-icons.css">
    <!--Magnific-Popup CSS -->
    <link rel="stylesheet" href="/CGA101G1/frontend/mainCss/assets/vendor/magnific/magnific-popup.css">
    <!-- Slick CSS -->
    <link rel="stylesheet" href="/CGA101G1/frontend/mainCss/assets/vendor/slick/slick.css">
    <!-- Style CSS -->
    <link rel="stylesheet" href="/CGA101G1/frontend/mainCss/assets/css/style01.css">
</head>

<body>


    <!-- header section starts-->

    <header>

        <div class="logo-div">
            <img src="/CGA101G1/frontend/mainCss/images/logo.png" alt="">
            <a href="/CGA101G1/frontend/HomePage/HomePage.html" class="logo">帕Game</a>
        </div>


        <nav class="navbar">
            <!-- 上方標籤列 -->
            <a class="active" href="/CGA101G1/frontend/HomePage/HomePage.html">首頁</a>
            <a href="/CGA101G1/frontend/Product/HomePageinshop.html" class="nav-link">商品區</a>
            <a href="/CGA101G1/frontend/bid/listallbid.html" class="nav-link">競標區</a>
            <a href="/CGA101G1/frontend/forum/forumHomePage.jsp" class="nav-link">討論區</a>
        </nav>

        <div class="icons">
            <!--右上方小icon區-->
            <i class="fas fa-bars" id="menu-bars"></i>
            <a href="/CGA101G1/frontend/mem/updateMemberData.html" class="fas fa-solid fa-user-astronaut"
                id="login-icon"></a>
            <a href="/CGA101G1/frontend/Product/HomePageinProduct-wishlist.jsp" class="fas fa-heart"></a>
            <a href="/CGA101G1/frontend/Product/shopping-cart.html" class="fas fa-shopping-cart" id="cart"></a>
        </div>

    </header>


    <!-- header section ends-->

    <!-- shopping-cart div starts -->
    <div id="shopping-cart">
        <span>Monopoly</span>
    </div>
    <!-- shopping-cart div ends -->

    <!-- home section starts-->

    <!-- Main -->
    <main>
        <!-- Breadcrumb -->
        <div class="py-3 bg-gray-100">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-6 my-2">
                        <h1 class="m-0 h4 text-center text-lg-start">Shop</h1>
                    </div>
                    <div class="col-lg-6 my-2">
                        <ol class="breadcrumb dark-link m-0 small justify-content-center justify-content-lg-end">
                            <li class="breadcrumb-item"><a class="text-nowrap" href="index.html"><i
                                        class="bi bi-home"></i>Home</a></li>
                            <li class="breadcrumb-item text-nowrap active" aria-current="page">Product</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
        <!-- End Breadcrumb -->
        <!-- login page -->
        <div class="section" id="app">
            <div class="container">
                <div class="justify-content-center row">
                    <div class="col-lg-5 col-xxl-4">
                        <div class="card" style="border: 1px solid #aeb4be;">
                            <div class="card-header bg-transparent py-3">
                                <h3 class="h4 mb-0" style="text-align: center; color: cadetblue;">登入會員</h3>
                            </div>


                            <label for="choose" class="form-label"> 選擇登入方式:<span class="text-danger"></span></label>
                            <div style="margin: 0 0 0 10; display: flex; ">
                                <input type="radio" value="username" v-model="loginType">帳號
                                <input type="radio" value="email" v-model="loginType">信箱
                            </div>


                            <template v-if="loginType==='username'">
                                <div class="card-body">
                                    <div class="form-group mb-3">
                                        <label for="memAccount" class="form-label">帳號:<span
                                                class="text-danger">*</span></label> <input
                                            style="text-transform: none;" v-model="memAccount" type="text"
                                            id="memAccount" class="form-control" placeholder="輸入帳號" key="username">
                                    </div>
                                    <div class="form-group mb-3">
                                        <div class="row align-items-center">
                                            <label class="form-label col" for="memPassword">密碼:<span
                                                    class="text-danger">*</span></label>
                                        </div>
                                        <input type="password" class="form-control" id="memPassword" placeholder="輸入密碼"
                                            v-model="memPassword1" style="text-transform: none;" key="upassword"> <span
                                            class="col ms-auto small text-end">
                                            <a href="/CGA101G1/frontend/mem/EmailForChangePassword.jsp">
                                                忘記密碼?</a></span>
                                    </div>

                                    <!-- Checkbox -->
                                    <div class="form-check mb-3">
                                        <input class="form-check-input" type="checkbox" value="remember1" id="remember1"
                                            v-model="isChecked1" />
                                        <label class="form-check-label" for="form2Example3"> 記住帳號 </label>
                                    </div>
                                    <div class="form-group text-center">
                                        <button type="button" class="btn btn-primary w-100" id="btn1"
                                            @click="checkAccount" key="b1">
                                            登入</button>
                                    </div>
                                    <div id="errMsg" class="error" style="color: red; font-size: 15;" v-if="isShow"> {{
                                        errMsg1 }}</div>

                            </template>

                            <template v-if="loginType==='email'">
                                <div class="card-body">
                                    <div class="form-group mb-3">
                                        <label for="memAccount" class="form-label">信箱:<span
                                                class="text-danger">*</span></label> <input
                                            style="text-transform: none;" type="text" id="memAccount"
                                            class="form-control" placeholder="輸入信箱" key="email" v-model="email">
                                    </div>
                                    <div class="form-group mb-3">
                                        <div class="row align-items-center">
                                            <label class="form-label col" for="memPassword">密碼:<span
                                                    class="text-danger">*</span></label>
                                        </div>
                                        <input type="password" class="form-control" id="memPassword" placeholder="輸入密碼"
                                            style="text-transform: none;" key="epassword" v-model="memPassword2"> <span
                                            class="col ms-auto small text-end"><a
                                                href="/CGA101G1/frontend/mem/EmailForChangePassword.jsp">
                                                忘記密碼?</a></span>
                                    </div>

                                    <!-- Checkbox -->
                                    <div class="form-check mb-3">
                                        <input class="form-check-input" type="checkbox" value="remember2" id="remember2"
                                            v-model="isChecked2" />
                                        <label class="form-check-label" for="form2Example3"> 記住信箱 </label>
                                    </div>
                                    <div class="form-group text-center">
                                        <button type="button" class="btn btn-primary w-100" id="btn2"
                                            @click="checkEmail" key="b2">
                                            登入</button>
                                    </div>
                                    <div id="errMsg" class="error" style="color: red; font-size: 15;" v-if="isShow">{{
                                        errMsg2 }}</div>

                            </template>

                            <!-- <div class="text-center pt-4 pb-5">
                                    <span class="px-3 bg-white d-inline-block align-top lh-sm">OR</span>
                                    <div class="border-bottom mt-n3"></div>
                                </div>
                                <div class="row g-2">
                                    <div class="col">
                                        <button class="btn w-100 btn-dark" type="button"><i
                                                class="bi bi-facebook me-2"></i> Facebook</button>
                                    </div>
                                    <div class="col">
                                        <button class="btn w-100 btn-dark" type="button"><i
                                                class="bi bi-twitter me-2"></i> Twitter</button>
                                    </div>
                                </div> -->
                            <div class="pt-4 text-center">
                                <span class="text-muted"> <a href="/CGA101G1/frontend/mem/register.html">還沒有加入會員嗎?
                                        點選這裡前往註冊!! </a></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        </div>
        <!-- end login -->
    </main>
    <!-- End Main -->
    <!-- Footer -->
    <footer class="bg-white footer">
        <div class="footer-top py-6">
            <div class="container">
                <div class="row">
                    <section class="footer">
                        <div class="box-container">
                            <div class="box">
                                <h3>會員專區</h3>
                                <a href="#">會員登入</a> <a href="#">會員註冊</a> <a href="#">訂單管理</a> <a
                                    href="#">二手遊戲申請上架單管理</a>
                            </div>

                            <div class="box">
                                <h3>快速連結</h3>
                                <a href="#">首頁</a> <a href="#">遊戲商城</a> <a href="#">二手競標商城</a> <a href="#">遊戲討論區</a>
                            </div>

                            <div class="box">
                                <h3>聯絡我們</h3>
                                <a href="#">02-3456-7890</a> <a href="#">03-1111-2222</a> <a
                                    href="#">CGA101G1@gmail.com</a> <a href="#">anasbhai@gmail.com</a>
                            </div>

                            <div class="box">
                                <h3>關於我們</h3>
                                <a href="#">管理團隊</a> <a href="#">創始理念</a> <a href="#">insuagram</a>
                                <a href="#">linkedin</a>
                            </div>
                        </div>

                        <div class="credit">
                            copyright@2022 by <span>CGA101G1</span>
                        </div>

                    </section>
                </div>
            </div>
        </div>

    </footer>
    <!-- End Footer -->

    <script src="https://unpkg.com/swiper@8/swiper-bundle.min.js"></script>
    <!-- 外來區 -->
    <!-- jquery -->
    <script src="/CGA101G1/frontend/mainCss/assets/js/jquery-3.5.1.min.js"></script>
    <!-- appear -->
    <script src="/CGA101G1/frontend/mainCss/assets/vendor/appear/jquery.appear.js"></script>
    <!--bootstrap-->
    <script src="/CGA101G1/frontend/mainCss/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- owl-carousel -->
    <script src="/CGA101G1/frontend/mainCss/assets/vendor/slick/slick.min.js"></script>
    <!-- magnific -->
    <script src="/CGA101G1/frontend/mainCss/assets/vendor/magnific/jquery.magnific-popup.min.js"></script>
    <!-- isotope -->
    <script src="/CGA101G1/frontend/mainCss/assets/vendor/isotope/isotope.pkgd.min.js"></script>
    <!-- count-down -->
    <script src="/CGA101G1/frontend/mainCss/assets/vendor/count-down/jquery.countdown.min.js"></script>
    <!-- Theme Js -->
    <script src="/CGA101G1/frontend/mainCss/assets/js/custom.js"></script>
    <!-- 外來區over -->
    <!-- custom js file link-->
    <script src="/CGA101G1/frontend/mainCss/js/script.js"></script>
    <script src="http://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://unpkg.com/sweetalert/dist/sweetalert.min.js"></script>
    <script src="https://unpkg.com/vue@3"></script>

    <script>


        const vm = Vue.createApp({
            data() {
                return {
                    memAccount: '',
                    memPassword1: '',
                    memPassword2: '',
                    email: '',
                    loginType: 'username',
                    isShow: false,
                    errMsg1: '',
                    errMsg2: '',
                    isChecked1: false,
                    isChecked2: false,
                }
            },
            methods: {
                checkAccount() {
                    if (this.isChecked1) {
                        localStorage.setItem("memAccount", this.memAccount);
                    } else {
                        localStorage.removeItem("memAccount");
                    }

                    $.ajax({
                        type: 'POST',
                        url: "/CGA101G1/mem/LoginServlet",
                        contentType: "application/json",
                        data: JSON.stringify({
                            memAccount: this.memAccount,
                            memPassword: this.memPassword1
                        }),
                        success: data => {
                            const { successful, message, initlocation } = data;
                            if (successful) {
                                let { memNo, memName, memStatus, memVrfed } = data;
                                sessionStorage.setItem("memNo", memNo);
                                sessionStorage.setItem("memName", memName);
                                sessionStorage.setItem("memStatus", memStatus);
                                sessionStorage.setItem("memVrfed", memVrfed);
                                swal("歡迎光臨買鳳(ﾉ>ω<)ﾉ", "", "success")
                                    .then(function () {
                                        if (initlocation !== undefined) {
                                            location = initlocation;
                                        } else {
                                            location = "/CGA101G1/frontend/HomePage/HomePage.html";
                                        }
                                    })
                            } else {
                                this.isShow = !this.isShow;
                                this.errMsg1 = message;
                            }
                        },

                    });
                },
                checkEmail() {
                    if (this.isChecked2) {
                        localStorage.setItem("memEmail", this.email);
                    } else {
                        localStorage.removeItem("memEmail");
                    }

                    $.ajax({
                        type: 'POST',
                        url: "/CGA101G1/mem/EamilLoginServlet",
                        contentType: "application/json",
                        data: JSON.stringify({
                            memEmail: this.email,
                            memPassword: this.memPassword2
                        }),
                        success: data => {
                            const { successful, message, initlocation } = data;
                            if (successful) {
                                let { memNo, memName, memStatus, memVrfed } = data;
                                sessionStorage.setItem("memNo", memNo);
                                sessionStorage.setItem("memName", memName);
                                sessionStorage.setItem("memStatus", memStatus);
                                sessionStorage.setItem("memVrfed", memVrfed);
                                swal("歡迎光臨買鳳(ﾉ>ω<)ﾉ", "", "success")
                                    .then(function () {
                                        if (initlocation !== undefined) {
                                            location = initlocation;
                                        } else {
                                            location = "/CGA101G1/frontend/HomePage/HomePage.html";
                                        }
                                    })
                            } else {
                                this.isShow = !this.isShow;
                                this.errMsg2 = message;
                            }
                        },

                    });
                },
                first() {
                    this.$nextTick(function () {
                        // Code that will run only after the
                        // entire view has been rendered
                        if (localStorage.getItem("memEmail") !== null) {
                            this.email = localStorage.getItem("memEmail");
                            this.isChecked2 = !this.isChecked2;
                        }
                        if (localStorage.getItem("memAccount") !== null) {
                            this.memAccount = localStorage.getItem("memAccount");
                            this.isChecked1 = !this.isChecked1;
                        }
                    })
                },

            },
            created() {
                this.first();
            }
        });
        vm.mount("#app");



































//         $(document).ready(() => {
//             if (localStorage.getItem("memAccount") !== null) {
//                 $("#memAccount").val(localStorage.getItem("memAccount"));
//                 $("#remember").attr("checked", "checked");
//             }
//         })

//         $("#remember").change(function () {

//             if ($("#remember").prop('checked')) {
//                 $("#remember").attr("checked", "checked");
//             } else
//                 $("#remember").removeAttr("checked");
//         })

//         $("#btn1").click(() => {
//             if (document.getElementById("remember").chceked) {
//                 localStorage.setItem("memAccount", $("#memAccount").val());
//             } else {
//                 localStorage.removeItem("memAccount");
//             }

//             if ($("#remember").prop('checked')) {
//                 localStorage.setItem("memAccount", $("#memAccount").val());
//             } else {
//                 localStorage.removeItem("memAccount");
//             }
//             $.ajax({
//                 type: 'POST',
//                 url: "/CGA101G1/mem/LoginServlet",
//                 contentType: "application/json",
//                 data: JSON.stringify({
//                     memAccount: memAccount.value,
//                     memPassword: memPassword.value
//                 }),
//                 success: data => {
//                     const { successful, message, initlocation } = data;
//                     if (successful) {
//                         let { memNo, memName, memStatus, memVrfed, memAccount } = data;
//                         sessionStorage.setItem("memNo", memNo);
//                         sessionStorage.setItem("memName", memName);
//                         sessionStorage.setItem("memStatus", memStatus);
//                         sessionStorage.setItem("memVrfed", memVrfed);
//                         swal("歡迎光臨買鳳(ﾉ>ω<)ﾉ", "", "success")
//                             .then(function () {
//                                 if (initlocation !== undefined) {
//                                     location = initlocation;
//                                 } else {
//                                     location = "/CGA101G1/frontend/HomePage/HomePage.html";
//                                 }
//                             })
//                     } else {
//                         $("#errMsg").html(message);
//                     }
//                 },

//             });
//         });

    </script>




</body>
<!-- end body -->

</html>