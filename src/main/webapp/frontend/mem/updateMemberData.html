<!DOCTYPE html>
<html lang="zxx">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POP.Game</title>

    <link rel="stylesheet" href="https://unpkg.com/swiper@8/swiper-bundle.min.css" />
    <!-- font awesome cdn link -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- custom css file link -->
    <link rel="stylesheet" href="/CGA101G1/frontend/mainCss/css/allStyle.css">
    <link rel="stylesheet" href="/CGA101G1/frontend/mainCss/css/style.css">
    <link rel="stylesheet" href="/CGA101G1/frontend/mainCss/css/headerStyle.css">
    <link rel="stylesheet" href="/CGA101G1/frontend/mainCss/css/footerStyle.css">


    <!-- Favicon -->
    <link rel="shortcut icon" href="/CGA101G1/frontend/mainCss/images/logo.png">
    <!-- Fonts CSS -->
    <link rel="stylesheet" href="/CGA101G1/frontend/mainCss/assets/vendor/fonts/fonts.css">
    <!-- Bootstrap-icons CSS -->
    <link rel="stylesheet" href="/CGA101G1/frontend/mainCss/assets/vendor/bootstrap/icons/bootstrap-icons.css">
    <!--Magnific-Popup CSS -->
    <link rel="stylesheet" href="/CGA101G1/frontend/mainCss/assets/vendor/magnific/magnific-popup.css">
    <!-- Slick CSS -->
    <link rel="stylesheet" href="/CGA101G1/frontend/mainCss/assets/vendor/slick/slick.css">
    <!-- Style CSS -->
    <link rel="stylesheet" href="/CGA101G1/frontend/mainCss/assets/css/style01.css">
    <link rel="stylesheet" type="text/css" href="/CGA101G1/datetimepicker/jquery.datetimepicker.css" />
    <link rel="stylesheet" href="/CGA101G1/frontend/mem/css/MemStyle.css">
</head>

<body>
   
    <!-- header section starts-->

    <header>

        <div class="logo-div">
            <img src="/CGA101G1/frontend/mainCss/images/logo.png" alt="">
            <a href="/CGA101G1/frontend/HomePage/HomePage.html" class="logo">帕Game</a>
        </div>


        <nav class="navbar">
            <!-- 上方標籤列 -->
            <a class="active" href="/CGA101G1/frontend/HomePage/HomePage.html">首頁</a>
            <a href="/CGA101G1/frontend/Product/HomePageinshop.html" class="nav-link">商品區</a>
            <a href="/CGA101G1/frontend/bid/listallbid.html" class="nav-link">競標區</a>
            <a href="/CGA101G1/frontend/forum/forumHomePage.jsp" class="nav-link">討論區</a>
        </nav>

        <div class="icons">
            <!--右上方小icon區-->
            <i class="fas fa-bars" id="menu-bars"></i>
            <a href="/CGA101G1/frontend/mem/updateMemberData.html" class="fas fa-solid fa-user-astronaut" id="login-icon"></a>
            <a href="/CGA101G1/frontend/Product/HomePageinProduct-wishlist.jsp" class="fas fa-heart"></a>
            <a href="/CGA101G1/frontend/Product/shopping-cart.html" class="fas fa-shopping-cart" id="cart"></a>
        </div>

    </header>


    <!-- header section ends-->

    <!-- shopping-cart div starts -->
    <div id="shopping-cart">
        <span>Monopoly</span>
    </div>
    <!-- shopping-cart div ends -->

    <!-- home section starts-->

    <!-- Main -->
    <main>
        <!-- Breadcrumb -->
        <div class="py-3 bg-gray-100">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-6 my-2">
                        <h1 class="m-0 h4 text-center text-lg-start">會員中心</h1>
                    </div>
                    <div class="col-lg-6 my-2">
                        <ol class="breadcrumb dark-link m-0 small justify-content-center justify-content-lg-end">
                            <li class="breadcrumb-item"><a class="text-nowrap" href="index.html"><i
                                        class="bi bi-home"></i>首頁</a></li>
                            <li class="breadcrumb-item text-nowrap active" aria-current="page">我的帳戶</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
        <!-- End Breadcrumb -->

        <!-- Table -->
        <div class="py-6">
            <div class="container">
                <div class="row">
                    <!-- Profile Menu -->
                    <div class="col-lg-3 pb-4 pb-lg-0 col-xxl-3  pe-xxl-5" style="font-weight: bold; font-size: 16px">
                        <div class="bg-white border border-bottom-0 shadow-lg">
                            <div class="d-flex p-3 align-items-center">
                                <div class="avatar avatar-lg rounded-circle" id="Pinf">
                                    <img src="/CGA101G1/mem/MemSelfPicServlet?memNo=${memVO.memNo}" title="" alt=""
                                        id="imgPinf">
                                </div>
                                <div class="col ps-3">
                                    <h6 class="m-0" id="Ninf"></h6>
                                    <small><a href="javascript:void(0);" id="Einf"></a></small>
                                </div>
                            </div>
                            <div class="bg-gray-200 p-3 border-bottom border-top">
                                <h6 class="m-0">會員中心</h6>
                            </div>
                            <ul class="list-unstyled mb-0 theme-link">
                                <li class="border-bottom mb-0">
                                    <a class="nav-link-style d-flex align-items-center active p-3" style="color:black"
                                        href="/CGA101G1/frontend/Product/account-order.jsp">
                                        <i class="bi bi-bag me-2"></i> 我的訂單
                                    </a>
                                </li>
                                <li class="border-bottom mb-0">
                                    <a class="nav-link-style d-flex align-items-center p-3" style="color:black"
                                        href="/CGA101G1/frontend/Product/HomePageinProduct-wishlist.jsp">
                                        <i class="bi bi-heart me-2"></i>我的最愛
                                    </a>
                                </li>
                                <li class="border-bottom mb-0">
                                    <a class="nav-link-style d-flex align-items-center p-3" style="color:black"
                                        href="/CGA101G1/bid/bidApplyListMemNo">
                                        <i class="bi bi-alarm me-2"></i>出價商品追蹤
                                    </a>
                                </li>
                                <li class="border-bottom mb-0">
                                    <a class="nav-link-style d-flex align-items-center p-3" style="color:black"
                                        href="/CGA101G1/bid/bidProductWonByMemNo">
                                        <i class="bi bi-bag me-2"></i>得標商品查詢
                                    </a>
                                </li>
                                <li class="border-bottom mb-0">
                                    <a class="nav-link-style d-flex align-items-center p-3" style="color:black"
                                        href="/CGA101G1/frontend/bid/addbidapplylist.jsp">
                                        <i class="bi bi-card-checklist me-2"></i>競標商品申請
                                    </a>
                                </li>
                                <li class="border-bottom mb-0">
                                    <a class="nav-link-style d-flex align-items-center p-3" style="color:black"
                                        href="/CGA101G1/bid/bidApplyListSeller">
                                        <i class="bi bi-card-checklist me-2"></i>我的申請單
                                    </a>
                                </li>
                                <li class="border-bottom mb-0">
                                    <a class="nav-link-style d-flex align-items-center p-3" style="color:black"
                                        href="/CGA101G1/bid/bidProductSeller">
                                        <i class="bi bi-bell me-2"></i>我的上架中競標商品
                                    </a>
                                </li>
                                <li class="border-bottom mb-0">
                                    <a class="nav-link-style d-flex align-items-center p-3" style="color:black"
                                        href="/CGA101G1/frontend/forum/forumPostCollectionMemNo">
                                        <i class="bi bi-heart me-2"></i>我的文章收藏
                                    </a>
                                </li>
                                <li class="border-bottom mb-0">
                                    <a class="nav-link-style d-flex align-items-center p-3" style="color:black"
                                        href="/CGA101G1/frontend/forum/forumPostMyPostMemNo">
                                        <i class="bi bi-heart me-2"></i>我的文章
                                    </a>
                                </li>
                                <li class="border-bottom mb-0">
                                    <a class="nav-link-style d-flex align-items-center p-3" style="color:black"
                                        href="/CGA101G1/frontend/chatroom/chatroomignorelist.jsp">
                                        <i class="bi bi-emoji-angry me-2"></i>我的忽略會員清單
                                    </a>
                                </li>

                                <li class="border-bottom mb-0">
                                    <a class="nav-link-style d-flex align-items-center p-3" style="color:black"
                                        href="/CGA101G1/frontend/memCoupon/lookUpOneMemCoupon.jsp">
                                        <i class="bi bi-bookmark me-2"></i>我的優惠卷
                                    </a>
                                </li>
                            </ul>
                            <div class="bg-gray-200 p-3 border-bottom">
                                <h6 class="m-0">帳戶設定</h6>
                            </div>
                            <ul class="list-unstyled mb-0 theme-link">
                                <li class="border-bottom mb-0">
                                    <a class="nav-link-style d-flex align-items-center p-3" style="color:black"
                                        href="/CGA101G1/frontend/mem/updateMemberData.html">
                                        <i class="bi bi-person-circle me-2"></i>個人資訊
                                    </a>
                                </li>
                                <li class="border-bottom mb-0">
                                    <a class="nav-link-style d-flex align-items-center p-3" style="color:black"
                                        href="/CGA101G1/mem/logoutServlet">
                                        <i class="bi bi-box-arrow-left me-2"></i>登出
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                    <!-- End Profile Menu -->
                    <!-- Content 主要內容區 要修改的部分都塞在這個裡面 -->
                    <!-- 內容直接寫在<div class="table-responsive fs-md mb-4">裡面 -->
                    <div class="col-lg-9 col-xxl-9">
                        <div class="table-responsive fs-md mb-4">

                            <!-- login page -->
                            <div class="section" style="padding: 0 0 0 0;">
                                <div class="container">
                                    <div class="justify-content-center">
                                        <!-- <div class="col-lg-5 col-xxl-4"> -->
                                        <div class="card" style="border: 1px solid #aeb4be;">
                                            <div class="card-header bg-transparent py-3">
                                                <h3 class="h4 mb-0" style="text-align: center;  color: cadetblue;">會員資料
                                                </h3>
                                            </div>
                                            <div class="card-body">
                                                <div class="row">
                                                    <div class="col-md-5"></div>
                                                    <div class="col-md-3">
                                                        <!-- 圖片 -->
                                                        <div class="forimg">
                                                            <div id="divImg" style="width: 50%;">
                                                                <label for="myPic" class="form-label">會員大頭貼:</label>
                                                                <img src="" id="img1" />
                                                                <input type="file" name="myPic" accept="image/*"
                                                                    id="myPic" class="form-control"
                                                                    style="text-transform: none;">
                                                                <label id="lup7"></label>
                                                            </div>
                                                            <div id="catch">
                                                                <input type="hidden" id="reader">
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="col-md-4"></div>

                                                    <!-- <div class="col-md-6"> -->
                                                    <!-- 更新區1 -->
                                                    <div class="up1 col-md-6">
                                                        <div class="form-group mb-3">
                                                            <label for="memAccount" class="form-label">*帳號:
                                                            </label>
<!--                                                             <span class="text-danger">*</span> -->
                                                            <label id="l1"
                                                                style="color: darkkhaki; font-size: 20;  text-transform: none;"
                                                                class="form-control"></label>
                                                        </div>
                                                        <div>
                                                            <label for="memPassword" class="form-label">密碼: </label>
                                                            <a href="passwordChange.jsp" id="a1"
                                                                style="color: blue; font-size: 20; "
                                                                class="form-control">更改密碼</a>
                                                            <label id="l2"></label>
                                                        </div>

                                                        <div>
                                                            <label for="memName" class="form-label">*帳戶名稱:
                                                            </label>
                                                            <input type="text" name="memName" id="memName"
                                                                class="form-control" style="text-transform: none;">
                                                            <label id="l4" style="color: red; font-size: 15;"></label>
                                                        </div>
                                                        <div>
                                                            <label for="memMobile" class="form-label">*行動電話:
                                                            </label>
                                                            <input type="text" name="memMobile" id="memMobile"
                                                                class="form-control" style="text-transform: none;">
                                                            <label id="l5" style="color: red; font-size: 15;"></label>
                                                        </div>

                                                        <div role="city-selector-set" class="city-selector-set"
                                                            id="forAddress">
                                                            <div class="form-group mb-3">
                                                                <label for="memCity" class="form-label">居住縣市:<span
                                                                        class="text-danger">*</span></label>
                                                                <select class="county" id="memCity"
                                                                    class="form-control"></select>
                                                            </div>

                                                            <div class="form-group mb-3">
                                                                <label for="memDist" class="form-label">鄉/鎮/市/區:<span
                                                                        class="text-danger">*</span></label>
                                                                <select class="district" id="memDist"
                                                                    class="form-control"></select>
                                                            </div>
                                                        </div>

                                                        <div>
                                                            <label for="memAdd" class="form-label">地址: </label>
                                                            <input type="text" name="memAdd" id="memAdd"
                                                                class="form-control" style="text-transform: none;">
                                                            <label id="l6" style="color: red; font-size: 15;"></label>
                                                        </div>


                                                    </div>
                                                    <!-- 更新區2 -->
                                                    <div class="up2 col-md-6">

                                                        <div>
                                                            <label for="memEmail" class="form-label">*E-mail:
                                                            </label>
                                                            <input type="text" name="memEmail" id="memEmail"
                                                                class="form-control" style="text-transform: none;">
                                                            <label id="l7" style="color: red; font-size: 15;"></label>
                                                        </div>
                                                        <div>
                                                            <label for="memBirth" class="form-label">出生年月日:
                                                            </label>
                                                            <input type="text" name="memBirth" id="memBirth"
                                                                class="form-control" style="text-transform: none;">
                                                            <label id="d1" style="color: red; font-size: 15;"></label>
                                                        </div>
                                                        <div>
                                                            <!-- class="form-group col-md-12" -->
                                                        </div>
                                                        <label for="creditcardNo1" class="form-label">信用卡卡號:
                                                        </label>
                                                        <div id="cred" class="form-control">
                                                            <input type="text" name="creditcardNo1" size=4 value=""
                                                                maxlength=4 id="creditcardNo1"
                                                                style="text-transform: none; width: 22%; background-color: #d1d1d1;border: 1px solid #aeb4be;
                                                                appearance: none;
                                                                border-radius: 4px; line-height: 3.2; padding: 0 0 0 0.65rem ">
                                                            -
                                                            <input type="text" name="creditcardNo2" size=4 value=""
                                                                maxlength=4 id="creditcardNo2"
                                                                style="text-transform: none; width: 22%; background-color: #d1d1d1;border: 1px solid #aeb4be;
                                                                appearance: none;
                                                                border-radius: 4px; line-height: 3.2; padding: 0 0 0 0.65rem ;  ">
                                                            -
                                                            <input type="text" name="creditcardNo3" size=4 value=""
                                                                maxlength=4 id="creditcardNo3"
                                                                style="text-transform: none; width: 22%; background-color: #d1d1d1;border: 1px solid #aeb4be;
                                                                appearance: none;
                                                                border-radius: 4px; line-height: 3.2; padding: 0 0 0 0.65rem ;  ">
                                                            -
                                                            <input type="text" name="creditcardNo4" size=4 value=""
                                                                maxlength=4 id="creditcardNo4"
                                                                style="text-transform: none; width: 22%; background-color: #d1d1d1;border: 1px solid #aeb4be;
                                                                appearance: none;
                                                                border-radius: 4px; line-height: 3.2; padding: 0 0 0 0.65rem ;  ">
                                                        </div>

                                                        <label id="lup2" style="color: red; font-size: 15;"></label>
                                                        <div>
                                                            <label for="creditcardDate1"
                                                                class="form-label">信用卡到期年月:</label>
                                                        </div>
                                                        <div class="form-control">
                                                            <input type=text name="creditcardDate1" size=2 value=""
                                                                maxlength=2 id="creditcardDate1"
                                                                placeholder="                 月"
                                                                style="text-transform: none; width: 47%; background-color: #d1d1d1;border: 1px solid #aeb4be;
                                                                appearance: none;
                                                                border-radius: 4px; line-height: 3.2;  padding: 0 0 0 0.65rem ; ">
                                                            /
                                                            <input type=text name="creditcardDate2" size=2 value=""
                                                                maxlength=2 id="creditcardDate2"
                                                                placeholder="                 西元年"
                                                                style="text-transform: none; width: 47%; background-color: #d1d1d1;border: 1px solid #aeb4be;
                                                                appearance: none;
                                                                border-radius: 4px; line-height: 3.2;  padding: 0 0 0 0.65rem ; ">
                                                        </div>
                                                        <label id="lup3" style="color: red; font-size: 15;"></label>
                                                        <div>
                                                            <label for="creditcardSecurityNo" class="form-label">信用卡安全碼:
                                                            </label>
                                                            <input type=text name="creditcardSecurityNo" size=3 value=""
                                                                maxlength=3 id="creditcardSecurityNo"
                                                                class="form-control" style="text-transform: none; background-color: #d1d1d1;border: 1px solid #aeb4be;
                                                                appearance: none;
                                                                border-radius: 4px; line-height: 3.2; ">
                                                            <label id="lup4" style="color: red; font-size: 15;"></label>
                                                        </div>

                                                        <div>
                                                            <label for="bankAccount1" class="form-label">銀行帳號:
                                                            </label>
                                                            <input type=text name="bankAccount1" size=5 value=""
                                                                maxlength=3 id="bankAccount1" placeholder="銀行代碼">
                                                            <input type=text name="bankAccount2" size=25 value=""
                                                                id="bankAccount2" placeholder="銀行帳戶"
                                                                class="form-control" style="text-transform: none; background-color: #d1d1d1;border: 1px solid #aeb4be;
                                                                appearance: none;
                                                                border-radius: 4px; line-height: 3.2; ">
                                                            <label id="lup5" style="color: red; font-size: 15;"></label>
                                                        </div>
                                                        <div>
                                                            <label for="bankAccountOwner" class="form-label">戶名:
                                                            </label>
                                                            <input type="text" name="bankAccountOwner"
                                                                id="bankAccountOwner" class="form-control" style="text-transform: none; background-color: #d1d1d1;border: 1px solid #aeb4be;
                                                                appearance: none;
                                                                border-radius: 4px; line-height: 3.2; ">
                                                            <label id="lup6" style="color: red; font-size: 15;"></label>
                                                        </div>

                                                    </div>





                                                    <div class="form-group text-center">
                                                        <button type="button" class="btn btn-primary w-100" id="btn1">
                                                            確認修改
                                                        </button>
                                                    </div>

                                                    <label id="l8" style="color: red; font-size: 15;"></label>

                                                </div>
                                                <!-- </div> -->
                                            </div>
                                        </div>
                                        <!-- </div> -->
                                    </div>
                                </div>
                                <!-- end login -->
                                <!-- Footer -->
                                <footer class="bg-white footer">
                                    <div class="footer-top py-6">
                                        <div class="container">
                                            <div class="row">
                                                <section class="footer">
                                                    <div class="box-container">
                                                        <div class="box">
                                                            <h3>會員專區</h3>
                                                            <a href="#">會員登入</a>
                                                            <a href="#">會員註冊</a>
                                                            <a href="#">訂單管理</a>
                                                            <a href="#">二手遊戲申請上架單管理</a>
                                                        </div>

                                                        <div class="box">
                                                            <h3>快速連結</h3>
                                                            <a href="#">首頁</a>
                                                            <a href="#">遊戲商城</a>
                                                            <a href="#">二手競標商城</a>
                                                            <a href="#">遊戲討論區</a>
                                                        </div>

                                                        <div class="box">
                                                            <h3>聯絡我們</h3>
                                                            <a href="#">02-3456-7890</a>
                                                            <a href="#">03-1111-2222</a>
                                                            <a href="#">CGA101G1@gmail.com</a>
                                                            <a href="#">anasbhai@gmail.com</a>
                                                        </div>

                                                        <div class="box">
                                                            <h3>關於我們</h3>
                                                            <a href="#">管理團隊</a>
                                                            <a href="#">創始理念</a>
                                                            <a href="#">insuagram</a>
                                                            <a href="#">linkedin</a>
                                                        </div>
                                                    </div>

                                                    <div class="credit">copyright@2022 by <span>CGA101G1</span></div>

                                                </section>
                                            </div>
                                        </div>
                                    </div>
                            </div>
                        </div>
                        </footer>
                        <!-- End Footer -->
                        <script src="https://unpkg.com/swiper@8/swiper-bundle.min.js"></script>

                        <!-- appear -->
                        <script src="/CGA101G1/frontend/mainCss/assets/vendor/appear/jquery.appear.js"></script>
                        <!--bootstrap-->
                        <script
                            src="/CGA101G1/frontend/mainCss/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
                        <!-- owl-carousel -->
                        <script src="/CGA101G1/frontend/mainCss/assets/vendor/slick/slick.min.js"></script>
                        <!-- magnific -->
                        <script
                            src="/CGA101G1/frontend/mainCss/assets/vendor/magnific/jquery.magnific-popup.min.js"></script>
                        <!-- isotope -->
                        <script src="/CGA101G1/frontend/mainCss/assets/vendor/isotope/isotope.pkgd.min.js"></script>
                        <!-- count-down -->
                        <script
                            src="/CGA101G1/frontend/mainCss/assets/vendor/count-down/jquery.countdown.min.js"></script>
                        <!-- Theme Js -->
                        <script src="/CGA101G1/frontend/mainCss/assets/js/custom.js"></script>

                        <!-- custom js file link-->
                        <script src="/CGA101G1/frontend/mainCss/js/script.js"></script>

                        <script src="/CGA101G1/datetimepicker/jquery.datetimepicker.full.js"></script>

                        <script
                            src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"></script>
                        <!-- 外來區 -->
                        <!-- jquery -->
                        <script src="/CGA101G1/frontend/mainCss/assets/js/jquery-3.5.1.min.js"></script>
                        <!-- 外來區over -->


                        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
                        <script
                            src="https://cdn.jsdelivr.net/npm/tw-city-selector@2.1.1/dist/tw-city-selector.min.js"></script>
                        <link rel="stylesheet" type="text/css"
                            href="/CGA101G1/datetimepicker/jquery.datetimepicker.css" />
                        <script src="/CGA101G1/datetimepicker/jquery.js"></script>
                        <script src="/CGA101G1/datetimepicker/jquery.datetimepicker.full.js"></script>
                        <script>

                            $(document).ready(function init() {

                                //信用卡卡號
                                $('#creditcardNo1').blur(() => {
                                    const r1 = /^\d+$/;
                                    if (!r1.test($('#creditcardNo1').val())) {
                                        $('#lup2').text(`請輸入阿拉伯數字`)
                                    } else {
                                        $('#lup2').text(``);
                                    }
                                })
                                $('#creditcardNo2').blur(() => {
                                    const r1 = /^\d+$/;
                                    if (!r1.test($('#creditcardNo2').val())) {
                                        $('#lup2').text(`請輸入阿拉伯數字`)
                                    } else {
                                        $('#lup2').text(``);
                                    }
                                })
                                $('#creditcardNo3').blur(() => {
                                    const r1 = /^\d+$/;
                                    if (!r1.test($('#creditcardNo3').val())) {
                                        $('#lup2').text(`請輸入阿拉伯數字`)
                                    } else {
                                        $('#lup2').text(``);
                                    }
                                })
                                $('#creditcardNo4').blur(() => {
                                    const r1 = /^\d+$/;
                                    if (!r1.test($('#creditcardNo4').val())) {
                                        $('#lup2').text(`請輸入阿拉伯數字`)
                                    } else {
                                        $('#lup2').text(``);
                                    }
                                })
                                //信用卡日期
                                $('#creditcardDate1').blur(() => {
                                    const r1 = /^\d+$/;
                                    if (!r1.test($('#creditcardDate1').val())) {
                                        $('#lup3').text(`請輸入阿拉伯數字`)
                                    } else {
                                        $('#lup3').text(``);
                                    }
                                })
                                $('#creditcardDate2').blur(() => {
                                    const r1 = /^\d+$/;
                                    if (!r1.test($('#creditcardDate2').val())) {
                                        $('#lup3').text(`請輸入阿拉伯數字`)
                                    } else {
                                        $('#lup3').text(``);
                                    }
                                })
                                //信用卡安全碼
                                $('#creditcardSecurityNo').blur(() => {
                                    const r1 = /^\d+$/;
                                    if (!r1.test($('#creditcardSecurityNo').val())) {
                                        $('#lup4').text(`請輸入阿拉伯數字`)
                                    } else {
                                        $('#lup4').text(``);
                                    }
                                })
                                //銀行
                                $('#bankAccount1').blur(() => {
                                    const r1 = /^\d+$/;
                                    if (!r1.test($('#bankAccount1').val())) {
                                        $('#lup5').text(`請輸入阿拉伯數字`)
                                    } else {
                                        $('#lup5').text(``);
                                    }
                                })
                                $('#bankAccount2').blur(() => {
                                    const r1 = /^\d+$/;
                                    if (!r1.test($('#bankAccount2').val())) {
                                        $('#lup5').text(`請輸入阿拉伯數字`)
                                    } else {
                                        $('#lup5').text(``);
                                    }
                                })


                                //秀出所有資料
                                $.ajax({
                                    type: 'POST',
                                    url: "/CGA101G1/mem/MemSelfInfo",
                                    contentType: "application/json",
                                    success: data => {
                                        let { memNo, memAccount, memName, memMobile, memEmail,
                                            memCity, memDist, memAdd, memBirth, creditcardNo,
                                            creditcardDate, creditcardSecurityNo, bankAccount,
                                            bankAccountOwner
                                        } = data;
                                        //日期
                                        $.datetimepicker.setLocale('zh'); // kr ko ja en
                                        $('#memBirth').datetimepicker({
                                            theme: '',          //theme: 'dark',
                                            timepicker: false,   //timepicker: false,
                                            step: 1,            //step: 60 (這是timepicker的預設間隔60分鐘)
                                            format: 'Y-m-d ',
                                            value: memBirth,
                                            //disabledDates:    ['2022/06/08','2022/06/09','2022/06/10'], // 去除特定不含
                                            //startDate:	        '2022/07/10',  // 起始日
                                            //minDate:           '-1970-01-01', // 去除今日(不含)之前
                                            //maxDate:           '+1970-01-01'  // 去除今日(不含)之後
                                        });
                                        var somedate2 = new Date();
                                        $('#memBirth').datetimepicker({
                                            beforeShowDay: function (date) {
                                                if (date.getYear() > somedate2.getYear() ||
                                                    (date.getYear() == somedate2.getYear() && date.getMonth() > somedate2.getMonth()) ||
                                                    (date.getYear() == somedate2.getYear() && date.getMonth() == somedate2.getMonth() && date.getDate() > somedate2.getDate())
                                                ) {
                                                    return [false, ""]
                                                }
                                                return [true, ""];
                                            }
                                        });
                                        //給資料
                                        $("#l1").html(memAccount);
                                        $("#memName").val(memName);
                                        $("#memMobile").val(memMobile);
                                        $("#memEmail").val(memEmail);

                                        //居住地
                                        new TwCitySelector({
                                            el: '.city-selector-set',
                                            elCounty: '.county',
                                            countyValue: memCity,
                                            elDistrict: '.district',
                                            districtValue: memDist
                                        });

                                        $("#memAdd").val(memAdd);
                                        $("#memBirth").attr("value", memBirth);
                                        //左上角
                                        $("#Ninf").text(memName);
                                        $("#Pinf").html(`<img src="/CGA101G1/mem/MemSelfPicServlet?memNo=${memNo}" title="" alt=""
                                            id="imgPinf">`)
                                        $("#Einf").text(memEmail);
                                        //圖片顯示
                                        $("#divImg").html(
                                            `<label for="myPic" class="form-label" >會員大頭貼: </label>
                                            <img src="/CGA101G1/mem/MemSelfPicServlet?memNo=${memNo}" id="img1" width="50%" height="50%" class="form-control" style="padding: 0; border: 0" />
                                            <input type="file" name="myPic" id="myPic" onchange="pic()">
                                                <label id="lup7"></label>`);
                                    }

                                });

                            }); // ready


                            //上傳新圖片
                            function pic() {
                                let imgs = document.querySelector('#img1');
                                let inputs = document.querySelector('#myPic');
                                inputs = inputs.files[0];

                                const url = URL.createObjectURL(inputs);
                                imgs.src = url;

                                let reader = new FileReader();
                                reader.readAsDataURL(inputs)

                                reader.onloadend = function () {
                                    var arr;
                                    arr = reader.result;
                                    $("#reader").val(arr);

                                }
                            }

                            $("#btn1").click(() => {
                                if ($('#reader').val().length !== 0) {
                                    //對base64做切割處理
                                    let imageBase64 = $('#reader').val();
                                    let index = imageBase64.indexOf(',');
                                    index = index + 1
                                    let str1 = imageBase64.substr(0, index);
                                    imageBase64 = imageBase64.replace(str1, "");
                                    //送資料到後端
                                    $.ajax({
                                        type: 'POST',
                                        url: "/CGA101G1/mem/MemPicEditServlet",
                                        contentType: "application/json",
                                        data: imageBase64
                                    })
                                }
                                if ($('#memName').val().length === 0 ||
                                    $('#memMobile').val().length === 0 ||
                                    $('#memEmail').val().length === 0
                                ) {
                                    $('#l8').text(`*為必填欄位,尚有欄位未輸入`);
                                } else {
                                    $.ajax({
                                        type: 'POST',
                                        url: "/CGA101G1/mem/MemEditServlet",
                                        contentType: "application/json",
                                        data:
                                            JSON.stringify({
                                                memAccount: l1.innerText,
                                                memName: memName.value,
                                                memMobile: memMobile.value,
                                                memAdd: memAdd.value,
                                                memEmail: memEmail.value,
                                                memBirth: memBirth.value,
                                                memCity: memCity.value,
                                                memDist: memDist.value,
                                                memBirth: memBirth.value,
                                                creditcardNo: creditcardNo1.value + creditcardNo2.value + creditcardNo3.value + creditcardNo4.value,
                                                creditcardDate: creditcardDate1.value + creditcardDate2.value,
                                                creditcardSecurityNo: creditcardSecurityNo.value,
                                                bankAccount: bankAccount1.value + '-' + bankAccount2.value,
                                                bankAccountOwner: bankAccountOwner.value,
                                            }),
                                        success: data => {
                                            const { successful, message } = data;
                                            if (successful) {
                                                alert(message);
                                                location = "/CGA101G1/frontend/mem/updateMemberData.html";
                                            } else {
                                                $("#l8").html(message);
                                            }
                                        }


                                    });



                                }
                            })

                        </script>

</body>

</html>