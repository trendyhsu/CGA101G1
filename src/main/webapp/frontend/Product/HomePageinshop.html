<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>POP.Game</title>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.0.2/vue.global.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/swiper@8/swiper-bundle.min.css" />
    <!-- font awesome cdn link -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- custom css file link -->
    <link rel="stylesheet" href="../mainCss/css/allStyle.css">
    <link rel="stylesheet" href="../mainCss/css/style.css">
    <link rel="stylesheet" href="../mainCss/css/headerStyle.css">
    <link rel="stylesheet" href="../mainCss/css/footerStyle.css">


    <!-- Favicon -->
    <link rel="shortcut icon" href="/CGA101G1/frontend/mainCss/images/logo.png">
    <!-- Fonts CSS -->
    <link rel="stylesheet" href="../mainCss/assets/vendor/fonts/fonts.css">
    <!-- Bootstrap-icons CSS -->
    <link rel="stylesheet" href="../mainCss/assets/vendor/bootstrap/icons/bootstrap-icons.css">
    <!--Magnific-Popup CSS -->
    <link rel="stylesheet" href="../mainCss/assets/vendor/magnific/magnific-popup.css">
    <!-- Slick CSS -->
    <link rel="stylesheet" href="../mainCss/assets/vendor/slick/slick.css">
    <!-- Style CSS -->
    <link rel="stylesheet" href="../mainCss/assets/css/style01.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-/bQdsTh/da6pkI1MST/rWKFNjaCP5gBSY4sEBT38Q/9RBh9AH40zEOg7Hlq2THRZ"
        crossorigin="anonymous"></script>

    <style>
        .shoppingCartimg {
            position: fixed;
            left: 95%;
            top: 50%;
        }
    </style>

</head>

<body>

    <!-- header section starts-->

    <header>

        <div class="logo-div">
            <img src="/CGA101G1/frontend/mainCss/images/logo.png" alt="">
            <a href="/CGA101G1/frontend/HomePage.html" class="logo">帕Game</a>
        </div>


        <nav class="navbar">
            <!-- 上方標籤列 -->
            <a class="active" href="/CGA101G1/frontend/HomePage/HomePage.html">首頁</a>
            <a href="/CGA101G1/frontend/Product/HomePageinshop.html">商品區</a>
            <!-- <a href="#news">遊戲新聞</a> -->
            <a href="/CGA101G1/frontend/bid/listallbid.html">競標區</a>
            <a href="/CGA101G1/frontend/forum/forumHomePage.jsp">討論區</a>
        </nav>

        <div class="icons">
            <!--右上方小icon區-->
            <i class="fas fa-bars" id="menu-bars"></i>
            <a href="/CGA101G1/frontend/memLogin/login.html" class="fas fa-solid fa-user-astronaut" id="login-icon"></a>
            <a href="/CGA101G1/frontend/Product/HomePageinProduct-wishlist.jsp" class="fas fa-heart"></a>
            <a href="/CGA101G1/frontend/Product/shopping-cart.html" class="fas fa-shopping-cart" id="cart"></a>
        </div>

    </header>



    <!-- Main -->
    <main id="app">
        <!-- Breadcrumb -->
        <div class="py-3 bg-gray-100">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-lg-6 my-2">
                        <h1 class="m-0 h4 text-center text-lg-start">Shop</h1>
                    </div>
                    <div class="col-lg-6 my-2">
                        <ol class="breadcrumb dark-link m-0 small justify-content-center justify-content-lg-end">
                            <li class="breadcrumb-item"><a class="text-nowrap" href="index.html"><i
                                        class="bi bi-home"></i>Home</a></li>
                            <li class="breadcrumb-item text-nowrap active" aria-current="page">Product</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
        <!-- End Breadcrumb -->
        <!--shop -->
        <section class="py-6">
            <div class="container">
                <div class="row">
                    <!-- Sidebar -->
                    <div class="col-lg-4 col-xl-3 pe-xl-5 pt-9 pt-lg-0 shop-mob-toggle collapse d-lg-block"
                        id="shop_filter">
                        <!-- Mobile Toggle -->
                        <button class="p-3 btn-close position-absolute top-0 start-0 ms-2 mt-2 d-lg-none" type="button"
                            data-bs-toggle="collapse" data-bs-target="#shop_filter" aria-controls="shop_filter"
                            aria-expanded="false" aria-label="Toggle navigation">
                        </button>
                        <!-- End Mobile Toggle -->
                        <div class="shop-sidebar-block">
                            <input class="form-control" type="text" name="keysearch" id="" @change="keysearch($event)"
                                placeholder="搜尋遊戲名稱">
                            <div v-show="keyWord">
                                <button class="btn btn-outline-dark me-3"
                                    style="padding: 0%;border: 0em; height: 0; margin-bottom: 10%;">
                                    <a style="width: 100%;" class="btn btn-dark me-3"
                                        :href="`/CGA101G1/frontend/Product/HomePageinshop.html?keyWord=`+keyWord">送出遊戲查詢</a>
                                </button>
                            </div>

                        </div>
                        <!-- 遊戲平台 -->
                        <div class="shop-sidebar-block">
                            <div class="shop-sidebar-title">
                                <a class="h5" data-bs-toggle="collapse" href="#gamePlatform" role="button"
                                    aria-expanded="true" aria-controls="gamePlatform">遊戲平台<i
                                        class="bi bi-chevron-up"></i></a>
                            </div>
                            <div class="shop-sidebar-list collapse show" id="gamePlatform">
                                <ul>
                                    <li class="custom-radio" v-for="(item, index) in gamePlatformTypeData" :key="index"
                                        style="height: 40px;">
                                        <a :id="item.gamePlatformNo" name="gamePlatformNo" style="width: 100%;"
                                            :href="`/CGA101G1/frontend/Product/HomePageinshop.html?gamePlatformNo=`+item.gamePlatformNo">{{item.gamePlatformName}}</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <!-- End 遊戲平台 -->
                        <!-- 遊戲種類 -->
                        <div class="shop-sidebar-block">
                            <div class="shop-sidebar-title">
                                <a class="h5" data-bs-toggle="collapse" href="#shop_Gender" role="button"
                                    aria-expanded="true" aria-controls="shop_Gender">遊戲種類 <i
                                        class="bi bi-chevron-up"></i></a>
                            </div>
                            <div class="shop-sidebar-list collapse show" id="shop_Gender">
                                <ul>
                                    <li class="custom-radio" v-for="(item, index) in gameTypeData" :key="index"
                                        style="height: 40px;">
                                        <a :id="item.gameTypeNo" name="gameTypeNo" style="width: 100%;"
                                            :href="`/CGA101G1/frontend/Product/HomePageinshop.html?gameTypeNo=`+item.gameTypeNo">{{item.gameTypeName}}</a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                        <!-- 價格篩選 -->
                        <div class="shop-sidebar-block">
                            <div class="shop-sidebar-title">
                                <a class="h5" href="#shop_price" role="button">價格 <i class="bi bi-chevron-up"></i></a>
                            </div>
                            <div class="shop-sidebar-list collapse show" id="shop_price">
                                <ul>
                                    <li class="custom-checkbox">
                                        <a style="width: 100%;"
                                            href="/CGA101G1/frontend/Product/HomePageinshop.html?lowPrice=0&highPrice=999">NT：0
                                            - NT：999</a>
                                    </li>
                                    <li class="custom-checkbox">
                                        <a style="width: 100%;"
                                            href="/CGA101G1/frontend/Product/HomePageinshop.html?lowPrice=1000&highPrice=1499">NT：1000
                                            - NT：1499</a>
                                    </li>
                                    <li class="custom-checkbox">
                                        <a style="width: 100%;"
                                            href="/CGA101G1/frontend/Product/HomePageinshop.html?lowPrice=1500&highPrice=1999">NT：1500
                                            - NT：1999</a>
                                    </li>
                                    <li class="custom-checkbox">
                                        <a style="width: 100%;"
                                            href="/CGA101G1/frontend/Product/HomePageinshop.html?lowPrice=2000&highPrice=99999">NT：2000
                                            - </a>
                                    </li>
                                </ul>
                                <div class="d-flex align-items-center pt-3">
                                    <!-- Input -->
                                    <input type="number" class="form-control form-control-sm" placeholder="NT0"
                                        @change="manulPriceLow($event)">
                                    <!-- Divider -->
                                    <div class="text-gray-350 mx-2">‒</div>
                                    <!-- Input -->
                                    <input type="number" class="form-control form-control-sm" placeholder="NT2000"
                                        @change="manulPriceHigh($event)">

                                </div>
                                <button class="btn btn-outline-dark me-3" style="padding: 0%;border: 0em; height: 0;">
                                    <a style="width: 100%; border: 0em;" class="btn btn-dark me-3"
                                        :href="`/CGA101G1/frontend/Product/HomePageinshop.html?lowPrice=`+manaulPriceL+`&highPrice=`+manaulPriceH">送出金額查詢</a>
                                </button>
                            </div>
                        </div>
                        <!-- End 價格篩選 -->
                    </div>
                    <!-- End Sidebar -->
                    <!-- Product Box -->
                    <div class="col-lg-8 col-xl-9">
                        <div class="shop-top-bar d-flex pb-3">
                            <div class="layout-change">
                                <!-- Mobile Toggle -->
                                <button class="btn btn-sm d-lg-none" type="button" data-bs-toggle="collapse"
                                    data-bs-target="#shop_filter" aria-controls="shop_filter" aria-expanded="false"
                                    aria-label="Toggle navigation">
                                    <i class="fs-4 lh-1 bi bi-justify-left"></i>
                                </button>
                                <!-- End Mobile Toggle -->
                            </div>
                            <div class="shop-mob-button">
                            </div>
                        </div>
                        <!-- Product Box -->
                        <div class="row g-3">
                            <div class="d-flex justify-content-center" id="productBox">
                                <div class="spinner-border" role="status" v-show="loading">
                                    <span class="visually-hidden">Loading...</span>
                                </div>
                            </div>
                            <div class="col-sm-6 col-lg-4" v-for="(item, index) in ((temp.length==0)?jsonData:temp)"
                                :key="index" style="height:60em">
                                <div class="product-card-1" style="height:90%">
                                    <div class="product-card-image">
                                        <div class="badge-ribbon">
                                            <span class="badge bg-danger">{{item.gamePlatformTypeName}}</span>
                                        </div>
                                        <div class="product-action">
                                            <button @click="webcamSendRequestButton1($event)" :value="item.productNo"
                                                class="btn btn-outline-primary">
                                                <i class="bi bi-heart" :value="item.productNo"></i>
                                            </button>
                                        </div>
                                        <div class="product-media">
                                            <a
                                                :href="
                                                `/CGA101G1/frontend/Product/HomePageinProduct.html?ProductNo=`+item.productNo">
                                                <img class="img-fluid" :src=item.imgURL style="height: 80%;">
                                            </a>
                                            <div class="product-cart-btn">
                                                <button @click="webcamSendRequestButton2($event)"
                                                    class="btn btn-primary btn-sm w-100"
                                                    :value="item.productNo+a+item.productPrice+a+item.productName">
                                                    <i class="bi bi-cart"></i>
                                                    加入購物車
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="product-card-info">
                                        <div class="rating-star text">
                                            <div v-if="item.avgCommentStar">
                                                <i class="bi small bi-star-fill active"
                                                    v-for="(item, index) in item.avgCommentStar" :key="index"></i>
                                                <i class="bi small bi-star"
                                                    v-for="(item, index) in (5-item.avgCommentStar)" :key="index"></i>
                                            </div>
                                            <div v-else style="height: 12px;">
                                                尚無玩家評論
                                            </div>

                                        </div>
                                        <h6 class="product-title">
                                            <a href="shop-fw-without-filtres.html">{{item.productName}}</a>
                                        </h6>
                                        <div class="product-price">

                                            <span class="text-primary">$ {{item.productPrice}}</span>

                                        </div>

                                    </div>
                                </div>
                            </div>

                            <!-- 頁數區 -->
                            <div class="ms-auto" style="padding-left: 40%;">
                                <ul class="pagination" id="pageid">

                                    <!-- <li class="page-item" v-if="nowPage > 0" @click.prevent="previousPage"><a class="page-link" href="#">Previous</a></li> -->

                                    <li class="page-item" :class="{'disabled' : page === 1 }"><a class="page-link"
                                            @click.prevent="previousPage(index)" href="#productBox">Previous</a></li>

                                    <li class="page-item" v-for="(item, index) in Math.ceil(pages/9)" :key="index + 1"
                                        @click.prevent="skipPage(index)"><a class="page-link" href="#productBox"
                                            data-page="{{index + 1}}">{{index + 1}}</a></li>

                                    <li class="page-item" :class="{'disabled' : page === Math.ceil(pages/9)}"><a
                                            @click.prevent="nextPage(index)" class="page-link"
                                            href="#productBox">Next</a></li>

                                    <!-- <li class="page-item" v-if="nowPage < totalPage - 1" @click.prevent="nextPage"><a class="page-link" href="#">Next</a></li> -->

                                </ul>
                            </div>
                            <!-- End Product Box -->
                        </div>

                    </div>
                    <!-- End Product Box -->
                </div>
            </div>
        </section>
        <div class="shoppingCartimg">
            <a href="/CGA101G1/frontend/Product/shopping-cart.html">
                <p style="margin-bottom: 0;padding-left:15px;"><span
                        style="color: #CC6D3D;font-weight: 1000; font-size: 2em;position: absolute;bottom: 80%;">{{this.totalItemOfCart}}</span>
                </p>
                <img src="../mainCss/assets/img/shoppingCart.png" style="width: 50%; height: 50%;" alt="">
                <p>${{this.totalPriceOfCart}}</p>
            </a>

        </div>
        <!-- 跳出加入購物車的視窗 -->
        <div class="position-fixed top-50 start-50 translate-middle-x" style="z-index: 11">
            <div id="liveToast1" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
                <div class="toast-header">
                    <img src="../mainCss/images/logo.png" class="rounded me-2" alt="..."
                        style="width: 10%; height: 10%;">
                    <strong class="me-auto">系統訊息</strong>
                    <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                </div>
                <div class="toast-body" style="background-color: #7d879c;;">
                    <h6 style="color: aliceblue;">商品成功加入購物車!!</h6>
                </div>
            </div>
        </div>
        <!-- 跳出需先加入會員的視窗 -->
        <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
            <div id="loginToFavMas" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
                <div class="toast-header">
                    <img src="../mainCss/images/logo.png" class="rounded me-2" alt="..."
                        style="width: 10%; height: 10%;">
                    <strong class="me-auto">系統訊息</strong>
                    <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                </div>
                <div class="toast-body" style="background-color: #7d879c;;">
                    <h6 style="color: aliceblue;">請先登入會員唷</h6>
                </div>
            </div>
        </div>
        <!-- 跳出成功加入我的最愛的視窗 -->
        <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
            <div id="sucessToFavMas" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
                <div class="toast-header">
                    <img src="../mainCss/images/logo.png" class="rounded me-2" alt="..."
                        style="width: 10%; height: 10%;">
                    <strong class="me-auto">系統訊息</strong>
                    <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                </div>
                <div class="toast-body" style="background-color: #7d879c;;">
                    <h6 style="color: aliceblue;">商品已成功添加至我的最愛</h6>
                </div>
            </div>
        </div>
        <!-- 跳出重複加入我的最愛的視窗 -->
        <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 11">
            <div id="dupliToFavMas" class="toast" role="alert" aria-live="assertive" aria-atomic="true">
                <div class="toast-header">
                    <img src="../mainCss/images/logo.png" class="rounded me-2" alt="..."
                        style="width: 10%; height: 10%;">
                    <strong class="me-auto">系統訊息</strong>
                    <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
                </div>
                <div class="toast-body" style="background-color: #7d879c;;">
                    <h6 style="color: aliceblue;">我的最愛清單上已經有這個商品囉</h6>
                </div>
            </div>
        </div>
        <!-- End Shop -->
    </main>

    <!-- End Main -->







    <!-- footer section starts -->

    <footer class="bg-white footer">
        <div class="footer-top py-6">
            <div class="container">
                <div class="row">
                    <section class="footer">
                        <div class="box-container">
                            <div class="box">
                                <h3>會員專區</h3>
                                <a href="#">會員登入</a>
                                <a href="#">會員註冊</a>
                                <a href="#">訂單管理</a>
                                <a href="#">二手遊戲申請上架單管理</a>
                            </div>

                            <div class="box">
                                <h3>快速連結</h3>
                                <a href="#">首頁</a>
                                <a href="#">遊戲商城</a>
                                <a href="#">二手競標商城</a>
                                <a href="#">遊戲討論區</a>
                            </div>

                            <div class="box">
                                <h3>聯絡我們</h3>
                                <a href="#">02-3456-7890</a>
                                <a href="#">03-1111-2222</a>
                                <a href="#">CGA101G1@gmail.com</a>
                                <a href="#">anasbhai@gmail.com</a>
                            </div>

                            <div class="box">
                                <h3>關於我們</h3>
                                <a href="#">管理團隊</a>
                                <a href="#">創始理念</a>
                                <a href="#">insuagram</a>
                                <a href="#">linkedin</a>
                            </div>
                        </div>

                        <div class="credit">copyright@2022 by <span>CGA101G1</span></div>

                    </section>
                </div>
            </div>
        </div>

    </footer>
    <!-- footer section ends -->


    <script src="https://unpkg.com/swiper@8/swiper-bundle.min.js"></script>
    <!-- 外來區 -->
    <!-- jquery -->
    <script src="../mainCss/assets/js/jquery-3.5.1.min.js"></script>
    <!-- appear -->
    <script src="../mainCss/assets/vendor/appear/jquery.appear.js"></script>
    <!--bootstrap-->
    <script src="../mainCss/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- owl-carousel -->
    <script src="../mainCss/assets/vendor/slick/slick.min.js"></script>
    <!-- magnific -->
    <script src="../mainCss/assets/vendor/magnific/jquery.magnific-popup.min.js"></script>
    <!-- isotope -->
    <script src="../mainCss/assets/vendor/isotope/isotope.pkgd.min.js"></script>
    <!-- count-down -->
    <script src="../mainCss/assets/vendor/count-down/jquery.countdown.min.js"></script>
    <!-- Theme Js -->
    <script src="../mainCss/assets/js/custom.js"></script>
    <!-- 外來區over -->
    <!-- custom js file link-->
    <script src=".\\js\\script.js"></script>

    <script>
        const content = document.getElementById('content');
        const pageid = document.getElementById('pageid');



        const app = Vue.createApp({
            data() {
                return {
                    loading: true,
                    jsonData: [], // 初始資料
                    temp: [],
                    pages: 0,//總商品數量
                    page: 0,
                    keyWord: "",
                    gamePlatformTypeData: [],
                    gameTypeData: [],
                    renderData: [], // 建立每頁顯示資料
                    // pageBaseNum: 9,  // 每頁顯示資料數量
                    // nowPage: 0, // 初始、現在頁數
                    manaulPriceL: 0,
                    manaulPriceH: 99999,
                    a: ";",

                    //shoppingCartStatus
                    totalItemOfCart: 0,
                    totalPriceOfCart: 0,
                }
            },
            methods: {
                showShoppingCartSatus() {
                    const apiUrl = '/CGA101G1/product/showCart';
                    axios.get(apiUrl)
                        .then((response) => {
                            console.log(response.data);
                            for (item of response.data) {
                                this.totalItemOfCart = this.totalItemOfCart + item.productSales;
                                this.totalPriceOfCart = this.totalPriceOfCart + item.productTotalPrice;
                            }
                        });
                },
                getProductData() {

                    let getUrlString = location.href;
                    let url = new URL(getUrlString);
                    let gameTypeNoURL = url.searchParams.get('gameTypeNo');
                    let gamePlatformNoURL = url.searchParams.get('gamePlatformNo');
                    let lowPrice = url.searchParams.get('lowPrice');
                    let highPrice = url.searchParams.get('highPrice');
                    let keyWord = url.searchParams.get('keyWord');


                    if ((gameTypeNoURL == null) && (gamePlatformNoURL == null) && (lowPrice == null) && (keyWord == null)) {

                        const apiUrl = '/CGA101G1/product/showSelledCount';
                        axios.get(apiUrl)
                            // 一定要用箭頭函示!!!!
                            .then((response) => {
                                console.log("取pages的狀態：" + response.status); //狀態碼
                                this.pages = response.data;//塞進去
                                console.log("pages讀取資料ok");
                                const productUrl = '/CGA101G1/product/showPageProduct?Page=' + `${this.page}`;
                                axios.get(productUrl)

                                    .then((response) => {
                                        console.log("取ProductData的狀態：" + response.status); //狀態碼
                                        this.jsonData = response.data;//塞進去
                                        console.log("datastore讀取資料ok");
                                        this.loading = false;
                                        // this.renderingPage();

                                    });
                            });



                    } else if (gamePlatformNoURL) {
                        console.log("開始渲染gamePlatformNoURL");
                        this.loading = true;
                        this.temp = [];
                        this.jsonData = [];
                        sendURL = '/CGA101G1/product/showSellAndPlatFormTypeProductPages?gamePlatformNo=' + `${gamePlatformNoURL}`;
                        console.log("這是平台頁數的：" + sendURL);
                        //先取頁數
                        axios({
                            method: 'post',
                            url: sendURL,
                        })
                            .then((response) => {
                                // console.log(response);
                                this.pages = response.data;
                                // console.log("這是平台頁數抓取完畢");
                                // console.log(this.pages);
                                //開始抓數據
                                axios({
                                    method: 'post',
                                    url: '/CGA101G1/product/showSellAndPlatformProduct?gamePlatformNo=' + `${gamePlatformNoURL}` + '&Page=' + `${this.page}`,
                                })
                                    .then((response) => {
                                        // console.log(response);
                                        this.loading = false;
                                        this.temp = response.data;
                                    });
                            });
                        //在依據抓資料放在頁面上


                    } else if (gameTypeNoURL) {
                        console.log("開始渲染gameTypeNoURL");
                        this.loading = true;
                        this.temp = [];
                        this.jsonData = [];
                        //先取頁數
                        axios({
                            method: 'post',
                            url: '/CGA101G1/product/showSellAndGameTypeProductPages?gameTypeNo=' + `${gameTypeNoURL}`,
                        })
                            .then((response) => {
                                console.log(response);
                                this.pages = response.data;
                                //開始抓資料放在頁面上
                                axios({
                                    method: 'post',
                                    url: '/CGA101G1/product/showSellAndGameTypeProduct?gameTypeNo=' + `${gameTypeNoURL}` + '&Page=' + `${this.page}`,
                                })
                                    .then((response) => {
                                        console.log(response);
                                        this.loading = false;
                                        this.temp = response.data;
                                    });
                            });
                    } else if (lowPrice) {
                        this.loading = true;
                        this.temp = [];
                        this.jsonData = [];
                        sendURL = `/CGA101G1/product/showSellCountByMoney?lowPrice=${lowPrice}&highPrice=${highPrice}`;

                        //先取頁數
                        axios({
                            method: 'post',
                            url: sendURL,
                        })
                            .then((response) => {
                                this.pages = response.data;
                                //開始抓數據
                                axios({
                                    method: 'post',
                                    url: `/CGA101G1/product/showInSellByMapAndMoney?lowPrice=${lowPrice}&highPrice=${highPrice}&Page=${this.page}`,
                                })
                                    .then((response) => {
                                        this.loading = false;
                                        this.temp = response.data;
                                    });
                            });
                        //在依據抓資料放在頁面上
                    } else if (keyWord) {
                        this.loading = true;
                        this.temp = [];
                        this.jsonData = [];
                        sendURL = '/CGA101G1/product/showSellProductByKeyWordPages?keyWord=' + `${keyWord}`;
                        //先取頁數
                        axios({
                            method: 'post',
                            url: sendURL,
                        })
                            .then((response) => {
                                this.pages = response.data;
                                getKeyDataURL = '/CGA101G1/product/showSellProductByKeyWord?keyWord=' + `${keyWord}` + '&Page=' + `${this.page}`;
                                //開始抓數據
                                axios({
                                    method: 'post',
                                    url: getKeyDataURL,
                                })
                                    .then((response) => {
                                        this.loading = false;
                                        this.temp = response.data;
                                    });
                            });
                    }
                },
                skipPage(index) {
                    this.page = index + 1;
                    console.log("這是第" + this.page + "頁");
                    this.jsonData = [];
                    this.loading = true;
                    this.getProductData();
                },
                nextPage() {
                    console.log("下一頁");
                    this.page = this.page + 2;
                    this.jsonData = [];
                    this.loading = true;
                    // (this.page + 1)++;  // 當頁數小於總頁數，加一頁(下一頁)
                    this.getProductData();

                },
                previousPage() {
                    console.log("上一頁");
                    this.page = this.page - 2;
                    this.jsonData = [];
                    this.loading = true;
                    // (this.page + 1)++;  // 當頁數小於總頁數，加一頁(下一頁)
                    this.getProductData();
                },
                getAllGamePlatformType() {
                    const apiUrl = '/CGA101G1/gameplatformtype/getAllGamePlatformType';
                    axios.get(apiUrl)
                        // 一定要用箭頭函示!!!!
                        .then((response) => {
                            console.log("取gamePlatformTypeData的狀態：" + response.status); //狀態碼
                            this.gamePlatformTypeData = response.data;//塞進去
                            console.log("gamePlatformTypeData讀取資料ok");
                        });
                },
                getAllGameType() {
                    const apiUrl = '/CGA101G1/gametype/getAllGameType';
                    axios.get(apiUrl)
                        // 一定要用箭頭函示!!!!
                        .then((response) => {
                            console.log("取gameTypeData的狀態：" + response.status); //狀態碼
                            this.gameTypeData = response.data;//塞進去
                            console.log("gameTypeData讀取資料ok");
                        });
                },
                webcamSendRequestButton2: function (e) {
                    this.totalItemOfCart = 0;
                    this.totalPriceOfCart = 0;

                    let toastLiveExample1 = document.getElementById('liveToast1')
                    // 取編號跟錢，分離商品編號跟價錢再傳出去
                    proNo = e.target.value.split(';')[0];
                    proPrice = e.target.value.split(';')[1];
                    proName = e.target.value.split(';')[2];

                    axios({
                        method: 'post',
                        url: '/CGA101G1/product/add2ShoppingCart?ProductNo=' + `${proNo}` + '&ProductSales=1' + '&ProductTotalPrice=' + `${proPrice}` + '&ProductName=' + `${proName}`,
                    })
                        .then((response) => {
                            console.log(response.data);
                            for (item of response.data) {
                                this.totalItemOfCart = this.totalItemOfCart + item.productSales;
                                this.totalPriceOfCart = this.totalPriceOfCart + item.productTotalPrice;
                            }
                            let toast = new bootstrap.Toast(toastLiveExample1)
                            toast.show()
                        });
                },
                webcamSendRequestButton1(e) {


                    let loginToFavMas = document.getElementById('loginToFavMas');
                    let sucessToFavMas = document.getElementById('sucessToFavMas');
                    let dupliToFavMas = document.getElementById('dupliToFavMas');

                    console.log("開始加入我的最愛");
                    // console.log(e.target.value);
                    sendURL = '/CGA101G1/product/AddProduct2Fav?ProductNo=' + `${e.target.value}`;
                    // console.log(sendURL);
                    axios({
                        method: 'post',
                        url: sendURL,
                    })
                        .then((response) => {
                            console.log(response.data);
                            if (response.data == 0) {
                                // console.log("需登入會員");
                                let loginToFavMasToast = new bootstrap.Toast(loginToFavMas);
                                loginToFavMasToast.show();
                            } else if (response.data == 1) {
                                // console.log("成功加入我的最愛");
                                let sucessToFavMasToast = new bootstrap.Toast(sucessToFavMas);
                                sucessToFavMasToast.show();
                            } else if (response.data == 2) {
                                // console.log("我的最愛已經有這個商品囉");
                                let dupliToFavMasToast = new bootstrap.Toast(dupliToFavMas);
                                dupliToFavMasToast.show();
                            }


                        });
                },
                manulPriceLow(e) {
                    if (typeof (e.target.value) === "string") {
                        this.manaulPriceL = e.target.value;
                    }
                },
                manulPriceHigh(e) {
                    if (typeof (e.target.value) === "string") {
                        this.manaulPriceH = e.target.value;
                    }
                },
                keysearch(e) {
                    this.keyWord = e.target.value;
                },
            },
            created() {
                this.getProductData();
                this.getAllGamePlatformType();
                this.getAllGameType();
                this.showShoppingCartSatus();
            }
        })

        app.mount('#app');
    </script>
</body>

</html>