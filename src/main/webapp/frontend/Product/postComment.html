<!DOCTYPE html>
<html lang="zxx">

<head>
    <!-- Title of The Page -->
    <title>Fancy Shopping E-commerce HTML Template</title>
    <!-- Meta Informations -->
    <meta charset="utf-8">
    <meta name="description" content="Bootstrap Responsive  Fancy Shopping E-commerce HTML Template">
    <meta name="keywords"
        content="Fancy Shopping E-commerce HTML Template,template,bootstrap 5,ui template kit,envato templates,fancy shopping html templates,html,css">
    <meta name="author" content="Fancy Shopping E-commerce HTML Template">
    <meta name="viewport" content="width=device-width,height=device-height,initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">


    <script src="https://cdnjs.cloudflare.com/ajax/libs/vue/3.0.2/vue.global.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/axios/0.21.1/axios.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
    <script src="https://demeter.5fpro.com/tw/zipcode-selector.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/swiper@8/swiper-bundle.min.css" />
    <!-- font awesome cdn link -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <!-- custom css file link -->
    <link rel="stylesheet" href="../mainCss/css/allStyle.css">
    <link rel="stylesheet" href="../mainCss/css/style.css">
    <link rel="stylesheet" href="../mainCss/css/headerStyle.css">
    <link rel="stylesheet" href="../mainCss/css/footerStyle.css">


    <!-- Favicon -->
    <link rel="shortcut icon" href="/CGA101G1/frontend/mainCss/images/logo.png">
    <!-- Fonts CSS -->
    <link rel="stylesheet" href="../mainCss/assets/vendor/fonts/fonts.css">
    <!-- Bootstrap-icons CSS -->
    <link rel="stylesheet" href="../mainCss/assets/vendor/bootstrap/icons/bootstrap-icons.css">
    <!--Magnific-Popup CSS -->
    <link rel="stylesheet" href="../mainCss/assets/vendor/magnific/magnific-popup.css">
    <!-- Slick CSS -->
    <link rel="stylesheet" href="../mainCss/assets/vendor/slick/slick.css">
    <!-- Style CSS -->
    <link rel="stylesheet" href="../mainCss/assets/css/style01.css">
    <style>

    </style>
</head>

<body>

    <!-- Preload -->
    <!-- <div id="loading" class="preloader">
        <div class="spinner-border text-primary" role="status">
            <span class="visually-hidden">Loading...</span>
        </div>
    </div> -->
    <!-- End Preload -->
    <!-- header section starts-->

    <header>

        <div class="logo-div">
            <img src="/CGA101G1/frontend/mainCss/images/logo.png" alt="">
            <a href="/CGA101G1/frontend/HomePage.html" class="logo">帕Game</a>
        </div>


        <nav class="navbar">
            <!-- 上方標籤列 -->
            <a class="active" href="/CGA101G1/frontend/HomePage/HomePage.html">首頁</a>
            <a href="/CGA101G1/frontend/Product/HomePageinshop.html">商品區</a>
            <!-- <a href="#news">遊戲新聞</a> -->
            <a href="/CGA101G1/frontend/bid/listallbid.html">競標區</a>
            <a href="/CGA101G1/frontend/forum/forumHomePage.jsp">討論區</a>
        </nav>

        <div class="icons">
            <!--右上方小icon區-->
            <i class="fas fa-bars" id="menu-bars"></i>
            <i class="fas fa-solid fa-user-astronaut" id="login-icon"></i>
            <a href="/CGA101G1/frontend/Product/HomePageinProduct-wishlist.jsp" class="fas fa-heart"></a>
            <a href="/CGA101G1/frontend/Product/shopping-cart.html" class="fas fa-shopping-cart" id="cart"></a>
        </div>

    </header>


    <!-- Header End -->
    <!-- Main -->
    <main>
        <!-- Breadcrumb -->
        <div class="py-3 bg-gray-100">
            <div class="container">
                <div class="row align-items-center">
                    <div class="col-6 my-2">
                        <h1 class="m-0 h4 text-center text-lg-start">Shopping Cart</h1>
                    </div>
                    <div class="col-6 my-2">
                        <ol class="breadcrumb dark-link m-0 small justify-content-center justify-content-lg-end">
                            <li class="breadcrumb-item"><a class="text-nowrap" href="index.html"><i
                                        class="bi bi-home"></i>Home</a></li>
                            <li class="breadcrumb-item text-nowrap active" aria-current="page">Shopping Cart</li>
                        </ol>
                    </div>
                </div>
            </div>
        </div>
        <!-- End Breadcrumb -->
        <!-- Cart Table -->
        <div class="py-6" id="app">
            <div class="container">
                <form class="card mt-5" action="/CGA101G1/orderDetail/addCommit" method="post">
                    <div class="card-header py-3">
                        <h3 class="m-0">發表評論</h3>
                        <h5 class="m-0">遊戲名稱：{{datastore.productName}}</h3>
                    </div>
                    <div class="card-body">
                        <div class="row g-3">
                            <div class="col-sm-6">
                                <label class="form-label" for="orderNo">訂單編號</label>
                                <input class="form-control" type="text" id="orderNo" required name="orderNo"
                                    v-model="orderNo" readonly>
                            </div>
                            <div class="col-sm-6">
                                <label class="form-label" for="productNo">遊戲編號</label>
                                <input class="form-control" type="text" id="productNo" required name="productNo"
                                    v-model="datastore.productNo" readonly>
                            </div>

                            <div class="col-sm-6">
                                <label class="form-label" for="commentCotent">發表評論文章</label>
                                <textarea class="form-control" type="text" id="commentCotent" required
                                    name="commentCotent" @change="postCheck($event)"></textarea>
                            </div>
                            <div style="color: red;" :style="{visibility: postInput ? 'visible' : 'hidden'}">
                                文章中，不應包含特殊符號+-/^{}#:@$%*&或是只填空格!!</div>
                            <div class="col-sm-6">
                                <label class="form-label" for="CommentStar">我要給星星</label>
                                <!-- <input class="form-control" type="number" id="CommentStar" required=""
                                    name="CommentStar"> -->
                                <input type="range" class="form-range" min="0" max="5" step="1" id="CommentStar"
                                    name="CommentStar" required :value="CommentStar" @change="getStar($event)">
                                <table style="width: 100%">
                                    <tr>
                                        <th>0</th>

                                        <!-- <th style="text-align: center">3</th> -->

                                        <th style="text-align: right">5</th>
                                    </tr>
                                </table>
                            </div>
                            <div class="col-12">
                                <input type="submit" value="送出評論" class="btn btn-primary" readonly>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <!-- Cart Table -->
    </main>
    <!-- End Main -->
    <!-- Footer -->
    <footer class="bg-white footer">
        <div class="footer-top py-6">
            <div class="container">
                <div class="row">
                    <section class="footer">
                        <div class="box-container">
                            <div class="box">
                                <h3>會員專區</h3>
                                <a href="#">會員登入</a>
                                <a href="#">會員註冊</a>
                                <a href="#">訂單管理</a>
                                <a href="#">二手遊戲申請上架單管理</a>
                            </div>

                            <div class="box">
                                <h3>快速連結</h3>
                                <a href="#">首頁</a>
                                <a href="#">遊戲商城</a>
                                <a href="#">二手競標商城</a>
                                <a href="#">遊戲討論區</a>
                            </div>

                            <div class="box">
                                <h3>聯絡我們</h3>
                                <a href="#">02-3456-7890</a>
                                <a href="#">03-1111-2222</a>
                                <a href="#">CGA101G1@gmail.com</a>
                                <a href="#">anasbhai@gmail.com</a>
                            </div>

                            <div class="box">
                                <h3>關於我們</h3>
                                <a href="#">管理團隊</a>
                                <a href="#">創始理念</a>
                                <a href="#">insuagram</a>
                                <a href="#">linkedin</a>
                            </div>
                        </div>

                        <div class="credit">copyright@2022 by <span>CGA101G1</span></div>

                    </section>
                </div>
            </div>
        </div>

    </footer>
    <!-- End Footer -->
    <!-- jquery -->
    <script src="../mainCss/assets/js/jquery-3.5.1.min.js"></script>
    <!-- appear -->
    <script src="../mainCss/assets/vendor/appear/jquery.appear.js"></script>
    <!--bootstrap-->
    <script src="../mainCss/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
    <!-- owl-carousel -->
    <script src="../mainCss/assets/vendor/slick/slick.min.js"></script>
    <!-- magnific -->
    <script src="../mainCss/assets/vendor/magnific/jquery.magnific-popup.min.js"></script>
    <!-- isotope -->
    <script src="../mainCss/assets/vendor/isotope/isotope.pkgd.min.js"></script>
    <!-- count-down -->
    <script src="../mainCss/assets/vendor/count-down/jquery.countdown.min.js"></script>
    <!-- Theme Js -->
    <script src="../mainCss/assets/js/custom.js"></script>
</body>
<!-- end body -->

<script>
    //custom select box

    // $(function () {
    //     $('select.styled').customSelect();
    // });

    const App = {
        data() {
            return {
                datastore: [],
                totalPrice: 0,
                coupons: [],
                orderNo: 0,
                CommentStar: 5,


                //表單驗證用
                postInput: false,



            }
        },
        methods: {
            getProductData() {
                let getUrlString = location.href;
                let url = new URL(getUrlString);
                let myURL = url.searchParams.get('ProductNo');
                let orderNo = url.searchParams.get('OrderNo');
                console.log(myURL);
                console.log(orderNo);
                this.orderNo = orderNo;

                const apiUrl = '/CGA101G1/product/OneProductDetail?ProductNo=' + myURL;

                console.log("這是產品詳情：" + apiUrl);
                axios.get(apiUrl)
                    // 一定要用箭頭函示!!!!
                    .then((response) => {
                        console.log("取ProductData的狀態：" + response.status); //狀態碼
                        // console.log(response.data);
                        this.datastore = response.data;//塞進去
                        this.datastore.Pics = [];
                        // console.log("datastore讀取資料ok");
                        // console.log(this.datastore);
                        // console.log("開始存圖片")
                        // this.getPicData();

                    });
            },

            postCheck(e) {
                this.nameInput = false;
                const rules = new RegExp('[+-/^{}#:@$%*&]')
                console.log(e.target.value);
                if (rules.test(e.target.value) || (e.target.value).trim().length == 0) {
                    this.postInput = true;
                }
            },
            RodInputCheck(e) {
                this.RodInput = false;
                const rules = new RegExp('[+-/^~{}:@$!%*?&]')
                console.log(e.target.value);
                if (rules.test(e.target.value) || (e.target.value).trim().length == 0) {
                    this.RodInput = true;
                }
            },
            getStar(e) {
                console.log(e.target.value);
                this.CommentStar = e.target.value;
            }

        },
        created() {

            this.getProductData();
        },

    };

    Vue.createApp(App).mount('#app');

</script>












</html>